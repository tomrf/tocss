//
// flexbox based "bootstrap-like" grid system with rows and cols
//

@import '../config/grid';
@import '../config/breakpoints';

// grid container / "row"
.o-grid {
  display: flex;
  flex-wrap: wrap;
}

// .o-grid__col*
[class*='o-grid__col'] {
  display: flex;
}

.o-grid__col {
  flex: 1 1 auto;

  &--grow {
    flex-grow: 1;
  }

  &--shrink {
    flex-shrink: 1;
  }

  @for $i from 1 through $grid-columns {
    &--#{$i} {
      flex: 1 1 percentage(math.div($i, $grid-columns));
      max-width: percentage(math.div($i, $grid-columns));
    }

    &--offset-#{$i} {
      margin-left: percentage(math.div($i, $grid-columns));
    }

    &--order-#{$i} {
      order: $i;
    }
  }
}

@each $breakpoint,
$breakpoint-value in $breakpoints {
  @media screen and (min-width: $breakpoint-value) {
    @for $i from 1 through $grid-columns {
      .o-grid__col--#{$breakpoint}-#{$i} {
        flex: 1 1 percentage(math.div($i, $grid-columns));
        max-width: percentage(math.div($i, $grid-columns));
      }
      .o-grid__col--#{$breakpoint}-offset-#{$i} {
          margin-left: percentage(math.div($i, $grid-columns));
      }
      .o-grid__col--#{$breakpoint}-order-#{$i} {
          order: $i;
      }
    }
  }
}
